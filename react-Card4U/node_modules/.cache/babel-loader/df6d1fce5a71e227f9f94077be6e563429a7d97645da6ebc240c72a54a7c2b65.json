{"ast":null,"code":"import axios from \"axios\";\nconst api = process.env.REACT_APP_API + \"/cardLists\" || \"\";\nexport function addCardList(userId) {\n  return axios.post(api, {\n    userId: userId,\n    cards: [],\n    quantity: 0\n  });\n}\nexport async function getAllCards() {\n  let res = await axios.get(api);\n  let allCardsArr = [];\n  for (const list of res.data) {\n    for (const card of list.cards) {\n      allCardsArr.push(card);\n    }\n  }\n  return new Promise((res, rej) => {\n    if (allCardsArr.length) {\n      res(allCardsArr);\n    } else {\n      rej(\"no cards!\");\n    }\n  });\n}\nexport async function addCardToList(userId, card) {\n  let res = await axios.get(`${api}?userId=${userId}`);\n  let cardArr = res.data[0].cards;\n  let qua = res.data[0].quantity;\n  qua++;\n  sessionStorage.setItem(\"quantity\", `${qua}`);\n  cardArr.push(card);\n  return await axios.patch(`${api}/${res.data[0].id}`, {\n    cards: cardArr,\n    quantity: qua\n  });\n}","map":{"version":3,"names":["axios","api","process","env","REACT_APP_API","addCardList","userId","post","cards","quantity","getAllCards","res","get","allCardsArr","list","data","card","push","Promise","rej","length","addCardToList","cardArr","qua","sessionStorage","setItem","patch","id"],"sources":["C:/Users/user/Desktop/ReactProject/reactproject/src/services/cardList.ts"],"sourcesContent":["import axios from \"axios\";\r\nimport Card from \"../interfaces/card\";\r\n\r\nconst api: string = process.env.REACT_APP_API + \"/cardLists\" || \"\";\r\nexport function addCardList(userId: number){\r\n    return axios.post(api,{userId: userId,cards: [],quantity: 0});\r\n}\r\n\r\nexport async function getAllCards(){\r\n    let res = await axios.get(api);\r\n    let allCardsArr: Card[] = []\r\n    for (const list of res.data) {\r\n        for (const card of list.cards) {\r\n            allCardsArr.push(card);\r\n        }\r\n    }\r\n    return new Promise((res,rej)=>{\r\n        if(allCardsArr.length){\r\n            res(allCardsArr);\r\n        }else{\r\n            rej(\"no cards!\")\r\n        }\r\n\r\n    })\r\n    \r\n}\r\n\r\nexport async function addCardToList (userId: number,card:Card){\r\n    let res = await axios.get(`${api}?userId=${userId}`);\r\n    let cardArr = res.data[0].cards;\r\n    let qua = res.data[0].quantity;\r\n    qua++;\r\n    sessionStorage.setItem(\"quantity\",`${qua}`);\r\n    cardArr.push(card);\r\n    return await axios.patch(`${api}/${res.data[0].id}`,{cards: cardArr, quantity: qua});\r\n}"],"mappings":"AAAA,OAAOA,KAAK,MAAM,OAAO;AAGzB,MAAMC,GAAW,GAAGC,OAAO,CAACC,GAAG,CAACC,aAAa,GAAG,YAAY,IAAI,EAAE;AAClE,OAAO,SAASC,WAAW,CAACC,MAAc,EAAC;EACvC,OAAON,KAAK,CAACO,IAAI,CAACN,GAAG,EAAC;IAACK,MAAM,EAAEA,MAAM;IAACE,KAAK,EAAE,EAAE;IAACC,QAAQ,EAAE;EAAC,CAAC,CAAC;AACjE;AAEA,OAAO,eAAeC,WAAW,GAAE;EAC/B,IAAIC,GAAG,GAAG,MAAMX,KAAK,CAACY,GAAG,CAACX,GAAG,CAAC;EAC9B,IAAIY,WAAmB,GAAG,EAAE;EAC5B,KAAK,MAAMC,IAAI,IAAIH,GAAG,CAACI,IAAI,EAAE;IACzB,KAAK,MAAMC,IAAI,IAAIF,IAAI,CAACN,KAAK,EAAE;MAC3BK,WAAW,CAACI,IAAI,CAACD,IAAI,CAAC;IAC1B;EACJ;EACA,OAAO,IAAIE,OAAO,CAAC,CAACP,GAAG,EAACQ,GAAG,KAAG;IAC1B,IAAGN,WAAW,CAACO,MAAM,EAAC;MAClBT,GAAG,CAACE,WAAW,CAAC;IACpB,CAAC,MAAI;MACDM,GAAG,CAAC,WAAW,CAAC;IACpB;EAEJ,CAAC,CAAC;AAEN;AAEA,OAAO,eAAeE,aAAa,CAAEf,MAAc,EAACU,IAAS,EAAC;EAC1D,IAAIL,GAAG,GAAG,MAAMX,KAAK,CAACY,GAAG,CAAE,GAAEX,GAAI,WAAUK,MAAO,EAAC,CAAC;EACpD,IAAIgB,OAAO,GAAGX,GAAG,CAACI,IAAI,CAAC,CAAC,CAAC,CAACP,KAAK;EAC/B,IAAIe,GAAG,GAAGZ,GAAG,CAACI,IAAI,CAAC,CAAC,CAAC,CAACN,QAAQ;EAC9Bc,GAAG,EAAE;EACLC,cAAc,CAACC,OAAO,CAAC,UAAU,EAAE,GAAEF,GAAI,EAAC,CAAC;EAC3CD,OAAO,CAACL,IAAI,CAACD,IAAI,CAAC;EAClB,OAAO,MAAMhB,KAAK,CAAC0B,KAAK,CAAE,GAAEzB,GAAI,IAAGU,GAAG,CAACI,IAAI,CAAC,CAAC,CAAC,CAACY,EAAG,EAAC,EAAC;IAACnB,KAAK,EAAEc,OAAO;IAAEb,QAAQ,EAAEc;EAAG,CAAC,CAAC;AACxF"},"metadata":{},"sourceType":"module","externalDependencies":[]}